// App ULTRA FUTURISTE ‚Äì NOVA CORE X V2
import { BrowserRouter as Router, Routes, Route, Link } from "react-router-dom";
import { useEffect, useState } from "react";
import { motion } from "framer-motion";

function App() {
  useEffect(() => {
    const synth = window.speechSynthesis;
    const utter = new SpeechSynthesisUtterance("Bienvenue dans Nova Core X. Pr√©paration du syst√®me interstellaire.");
    synth.speak(utter);
  }, []);

  useEffect(() => {
    const audio = new Audio("https://www.bensound.com/bensound-music/bensound-scifi.mp3");
    audio.loop = true;
    audio.volume = 0.2;
    audio.play();
    return () => audio.pause();
  }, []);

  return (
    <Router>
      <div className="min-h-screen bg-gradient-to-br from-black via-gray-900 to-blue-950 text-white font-sans overflow-hidden">
        <header className="p-6 text-center text-4xl font-bold tracking-wider text-cyan-400 animate-pulse shadow-lg">
          üåå NOVA CORE X
          <div className="text-sm mt-2 text-cyan-200">Heure Galactique : {new Date().toLocaleTimeString()}</div>
        </header>
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/dashboard" element={<Dashboard />} />
          <Route path="/ai" element={<AIControl />} />
          <Route path="/secure" element={<SecureZone />} />
          <Route path="/settings" element={<Settings />} />
        </Routes>
      </div>
    </Router>
  );
}

function Home() {
  return (
    <div className="flex flex-col items-center gap-8 mt-16">
      <AnimatedButton to="/dashboard" label="üåê Interface Universelle" />
      <AnimatedButton to="/ai" label="üß† IA Centrale" />
      <AnimatedButton to="/secure" label="üîí Noyau S√©curis√©" />
      <AnimatedButton to="/settings" label="‚öôÔ∏è R√©glages Syst√®me" />
    </div>
  );
}

function AnimatedButton({ to, label }) {
  return (
    <motion.div whileHover={{ scale: 1.1 }} whileTap={{ scale: 0.95 }}>
      <Link
        to={to}
        className="px-8 py-4 rounded-full bg-cyan-500 hover:bg-cyan-300 transition text-xl font-bold shadow-2xl border-2 border-cyan-200 backdrop-blur-md"
      >
        {label}
      </Link>
    </motion.div>
  );
}

function Dashboard() {
  return (
    <Page title="üåê Interface Universelle">
      <p className="text-lg">Donn√©es holographiques actives. Scan en cours de l‚Äôunivers num√©rique.</p>
      <pre className="mt-4 p-4 bg-gray-800 rounded text-sm">
        [NOVA-LOG] ‚Ü≥ ‚üÅ‚üÅ‚üÅ Protocole Sigma-7 engag√© ‚üÅ‚üÅ‚üÅ
        [NOVA-LOG] ‚Ü≥ Analyse spectrale des flux quantiques en cours...
      </pre>
    </Page>
  );
}

function AIControl() {
  useEffect(() => {
    const speak = new SpeechSynthesisUtterance("Connexion √† l'intelligence artificielle centrale confirm√©e.");
    window.speechSynthesis.speak(speak);
  }, []);

  return (
    <Page title="üß† IA Centrale">
      <p className="text-lg">Connexion √† l'intelligence principale √©tablie. Pr√™t √† ex√©cuter vos commandes.</p>
    </Page>
  );
}

function SecureZone() {
  const [pin, setPin] = useState("");
  const [access, setAccess] = useState(false);

  const handleAccess = () => {
    if (pin === "4242") {
      setAccess(true);
      const utter = new SpeechSynthesisUtterance("Acc√®s au noyau s√©curis√© confirm√©.");
      window.speechSynthesis.speak(utter);
    } else {
      alert("Code incorrect. Acc√®s refus√©.");
    }
  };

  return (
    <Page title="üîí Noyau S√©curis√©">
      {!access ? (
        <div className="flex flex-col items-start gap-4">
          <p className="text-lg">Authentification requise. Entrez le code d‚Äôacc√®s :</p>
          <input
            type="password"
            value={pin}
            onChange={(e) => setPin(e.target.value)}
            className="px-4 py-2 text-black rounded border border-cyan-400"
            placeholder="Code secret"
          />
          <button onClick={handleAccess} className="bg-cyan-500 px-4 py-2 rounded hover:bg-cyan-400">
            üîì D√©verrouiller
          </button>
        </div>
      ) : (
        <div>
          <p className="text-lg">Acc√®s accord√©. Bienvenue dans le noyau secret de Nova Core X.</p>
          <p className="mt-4">üîê Donn√©es classifi√©es visibles.</p>
        </div>
      )}
    </Page>
  );
}

function Settings() {
  const [theme, setTheme] = useState("N√©on");

  return (
    <Page title="‚öôÔ∏è R√©glages Syst√®me">
      <p className="mb-2">Th√®me actuel : <strong>{theme}</strong></p>
      <button
        onClick={() => setTheme(theme === "N√©on" ? "Sombre" : "N√©on")}
        className="px-4 py-2 bg-gray-700 rounded-full hover:bg-gray-500 transition border border-cyan-300"
      >
        üîÑ Changer de th√®me
      </button>
    </Page>
  );
}

function Page({ title, children }) {
  return (
    <motion.div 
      className="p-10 max-w-2xl mx-auto"
      initial={{ opacity: 0, y: 30 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.6 }}
    >
      <h2 className="text-3xl mb-6 text-cyan-300 font-extrabold animate-pulse">{title}</h2>
      {children}
      <div className="mt-10">
        <Link to="/" className="text-cyan-400 hover:underline">
          ‚¨ÖÔ∏è Retour √† l'accueil principal
        </Link>
      </div>
    </motion.div>
  );
}

export default App;
