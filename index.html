// App ULTRA FUTURISTE â€“ NOVA CORE X V4 â€“ PAGE DYNAMIQUE SUPRÃŠME
import { BrowserRouter as Router, Routes, Route, Link, useNavigate } from "react-router-dom";
import { useEffect, useState } from "react";
import { motion } from "framer-motion";

function App() {
  useEffect(() => {
    const synth = window.speechSynthesis;
    const utter = new SpeechSynthesisUtterance("Bienvenue dans Nova Core X. PrÃ©paration du systÃ¨me interstellaire.");
    synth.speak(utter);
  }, []);

  useEffect(() => {
    const audio = new Audio("https://cdn.pixabay.com/download/audio/2022/03/15/audio_c379bb86b5.mp3?filename=deep-space-ambient-11273.mp3");
    audio.loop = true;
    audio.volume = 0.3;
    audio.play();
    return () => audio.pause();
  }, []);

  return (
    <Router>
      <div className="min-h-screen bg-gradient-to-br from-black via-purple-900 to-blue-950 text-white font-sans overflow-hidden futuristic-font">
        <header className="p-6 text-center text-5xl font-black tracking-widest text-fuchsia-400 animate-pulse neon-glow">
          ğŸš€ NOVA CORE X âˆ
          <div className="text-sm mt-2 text-fuchsia-200">Heure Galactique : {new Date().toLocaleTimeString()}</div>
        </header>
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/dashboard" element={<Dashboard />} />
          <Route path="/ai" element={<AIControl />} />
          <Route path="/secure" element={<SecureZone />} />
          <Route path="/settings" element={<Settings />} />
          <Route path="/exploration" element={<Exploration />} />
          <Route path="/vaisseau" element={<VaisseauPilotage />} />
        </Routes>
      </div>
    </Router>
  );
}

function Home() {
  return (
    <div className="flex flex-col items-center gap-10 mt-20 animate-fade-in">
      <AnimatedButton to="/dashboard" label="ğŸŒ Interface Universelle" />
      <AnimatedButton to="/ai" label="ğŸ§  IA Centrale" />
      <AnimatedButton to="/secure" label="ğŸ”’ Noyau SÃ©curisÃ©" />
      <AnimatedButton to="/settings" label="âš™ï¸ RÃ©glages SystÃ¨me" />
      <AnimatedButton to="/exploration" label="ğŸª Exploration Galactique" />
      <AnimatedButton to="/vaisseau" label="ğŸš€ Pilotage du Vaisseau" />
    </div>
  );
}

function AnimatedButton({ to, label }) {
  return (
    <motion.div whileHover={{ scale: 1.15 }} whileTap={{ scale: 0.95 }}>
      <Link
        to={to}
        className="px-10 py-5 rounded-full bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 hover:from-indigo-500 hover:to-pink-500 transition text-xl font-extrabold shadow-[0_0_20px_rgba(255,0,255,0.6)] border-4 border-pink-300"
      >
        {label}
      </Link>
    </motion.div>
  );
}

function Page({ title, children }) {
  return (
    <motion.div 
      className="p-10 max-w-3xl mx-auto bg-opacity-20 backdrop-blur-md border border-fuchsia-500 rounded-xl mt-6"
      initial={{ opacity: 0, y: 40 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.7 }}
    >
      <h2 className="text-4xl mb-6 text-fuchsia-300 font-extrabold animate-pulse neon-glow">{title}</h2>
      {children}
      <div className="mt-10">
        <Link to="/" className="text-fuchsia-300 hover:underline">
          â¬…ï¸ Retour Ã  l'accueil principal
        </Link>
      </div>
    </motion.div>
  );
}

function Dashboard() {
  return (
    <Page title="ğŸŒ Interface Universelle">
      <p className="text-lg">ğŸ”­ Analyse des flux cosmiques en temps rÃ©el. Propulsion quantique stabilisÃ©e.</p>
      <pre className="mt-4 p-4 bg-gray-900 rounded text-sm text-green-400">
[NOVA-LOG] â‡¢ âŸâŸâŸ Protocole Sigma-7 engagÃ© âŸâŸâŸ
[NOVA-LOG] â‡¢ ğŸ” Scannage multi-dimensionnel enclenchÃ©â€¦
      </pre>
    </Page>
  );
}

function AIControl() {
  useEffect(() => {
    const speak = new SpeechSynthesisUtterance("Connexion Ã  l'intelligence artificielle centrale confirmÃ©e. Nova Core prÃªt Ã  recevoir vos ordres.");
    window.speechSynthesis.speak(speak);
  }, []);

  return (
    <Page title="ğŸ§  IA Centrale">
      <p className="text-lg">ğŸ¤– Connexion Ã  l'IA confirmÃ©e. Activez une commande vocale ou saisissez votre requÃªte holographique.</p>
    </Page>
  );
}

function SecureZone() {
  const [pin, setPin] = useState("");
  const [access, setAccess] = useState(false);

  const handleAccess = () => {
    if (pin === "4242") {
      setAccess(true);
      const utter = new SpeechSynthesisUtterance("AccÃ¨s au noyau sÃ©curisÃ© confirmÃ©. Bienvenue Commandant.");
      window.speechSynthesis.speak(utter);
    } else {
      const utter = new SpeechSynthesisUtterance("Code incorrect. AccÃ¨s refusÃ©. Intrusion dÃ©tectÃ©e.");
      window.speechSynthesis.speak(utter);
      alert("Code incorrect. AccÃ¨s refusÃ©.");
    }
  };

  return (
    <Page title="ğŸ”’ Noyau SÃ©curisÃ©">
      {!access ? (
        <div className="flex flex-col items-start gap-4">
          <p className="text-lg">ğŸ§¬ Authentification biomÃ©trique dÃ©sactivÃ©e. Entrez le code dâ€™accÃ¨s manuel :</p>
          <input
            type="password"
            value={pin}
            onChange={(e) => setPin(e.target.value)}
            className="px-4 py-2 text-black rounded border border-pink-400 shadow-md"
            placeholder="Code secret galactique"
          />
          <button onClick={handleAccess} className="bg-pink-600 px-4 py-2 rounded hover:bg-pink-400 shadow-lg">
            ğŸ”“ DÃ©verrouiller
          </button>
        </div>
      ) : (
        <div>
          <p className="text-lg">âœ… AccÃ¨s accordÃ©. Noyau sÃ©curisÃ© activÃ©.</p>
          <p className="mt-4">ğŸ“ Fichiers ultra-confidentiels dÃ©verrouillÃ©s.</p>
        </div>
      )}
    </Page>
  );
}

function Settings() {
  const [theme, setTheme] = useState("NÃ©on");

  return (
    <Page title="âš™ï¸ RÃ©glages SystÃ¨me">
      <p className="mb-2">ğŸ¨ ThÃ¨me actuel : <strong>{theme}</strong></p>
      <button
        onClick={() => setTheme(theme === "NÃ©on" ? "Sombre" : "NÃ©on")}
        className="px-4 py-2 bg-gray-800 rounded-full hover:bg-gray-600 transition border border-pink-300"
      >
        ğŸ”„ Changer de thÃ¨me galactique
      </button>
    </Page>
  );
}

function Exploration() {
  return (
    <Page title="ğŸª Exploration Galactique">
      <p className="text-lg">ğŸŒŒ Cartographie des galaxies voisines, tÃ©lÃ©portations en cours, analyse des exoplanÃ¨tes dÃ©tectÃ©es.</p>
    </Page>
  );
}

function VaisseauPilotage() {
  return (
    <Page title="ğŸš€ Pilotage du Vaisseau">
      <p className="text-lg">ğŸ§­ ContrÃ´le du vaisseau Nova One. Propulsion ionique activÃ©e. SystÃ¨mes de dÃ©fense en alerte verte.</p>
    </Page>
  );
}

export default App;
